{
  "version": 1,
  "display": {
    "autoRotate": true,
    "showAxes": true,
    "showSurface": true,
    "showWireframe": false,
    "dirIntensity": 1,
    "shininess": 80,
    "camera": {
      "position": {
        "x": 2.6061530215505133,
        "y": -26.706901577064528,
        "z": 3.3566421822176444
      },
      "target": {
        "x": 0,
        "y": 0,
        "z": 0
      }
    }
  },
  "parameters": {
    "uMin": -1,
    "uMax": 1,
    "vMin": -1,
    "vMax": 1,
    "uSegs": 80,
    "vSegs": 80
  },
  "extraParameters": [
    { "name": "hidden_layers", "value": 2, "min": 0, "max": 8, "step": 1, "runtime": 0 },
    { "name": "neurons", "value": 8, "min": 1, "max": 32, "step": 1, "runtime": 0 },
    { "name": "seed", "value": 42, "min": 0, "max": 999999, "step": 1, "runtime": 0 },
    { "name": "activation", "value": 0, "min": 0, "max": 7, "step": 1, "runtime": 0 },
    { "name": "scale", "value": 4, "min": 0.5, "max": 10, "step": 0.001, "runtime": 17 }
  ],
  "surface": {
    "code": "// activation: 0=tanh, 1=relu, 2=leaky_relu, 3=sin, 4=sigmoid, 5=elu, 6=swish, 7=softplus\nfunction surface(input) {\n    const u = input.u;\n    const v = input.v;\n    const nHidden = Math.max(0, Math.floor(input.hidden_layers));\n    const nNeurons = Math.max(1, Math.floor(input.neurons));\n    const actType = Math.floor(input.activation);\n    const scale = input.scale;\n    \n    const act = (x) => {\n        switch(actType) {\n            case 1: return Math.max(0, x);\n            case 2: return x > 0 ? x : 0.1 * x;\n            case 3: return Math.sin(x);\n            case 4: return 1 / (1 + Math.exp(-x));\n            case 5: return x > 0 ? x : Math.exp(x) - 1;\n            case 6: return x / (1 + Math.exp(-x));\n            case 7: return Math.log(1 + Math.exp(x));\n            default: return Math.tanh(x);\n        }\n    };\n    \n    let s = Math.floor(input.seed) >>> 0;\n    const rand = () => {\n        s |= 0; s = s + 0x6D2B79F5 | 0;\n        let t = Math.imul(s ^ s >>> 15, 1 | s);\n        t = t + Math.imul(t ^ t >>> 7, 61 | t) ^ t;\n        return ((t ^ t >>> 14) >>> 0) / 4294967296 * 2 - 1;\n    };\n    \n    const sizes = [2];\n    for (let i = 0; i < nHidden; i++) sizes.push(nNeurons);\n    sizes.push(6);\n    \n    let a = [u, v];\n    for (let L = 0; L < sizes.length - 1; L++) {\n        const ins = sizes[L];\n        const outs = sizes[L + 1];\n        const wScale = Math.sqrt(2 / ins);\n        const next = [];\n        \n        for (let o = 0; o < outs; o++) {\n            let sum = rand() * 0.1;\n            for (let i = 0; i < ins; i++) {\n                sum += rand() * wScale * a[i];\n            }\n            next.push(act(sum));\n        }\n        a = next;\n    }\n    \n    const norm = (x) => Math.max(0, Math.min(1, (Math.tanh(x) + 1) / 2));\n    \n    return {\n        x: Math.tanh(a[0]) * scale,\n        y: Math.tanh(a[1]) * scale,\n        z: Math.tanh(a[2]) * scale,\n        r: norm(a[3]),\n        g: norm(a[4]),\n        b: norm(a[5]),\n        a: 1\n    };\n}"
  },
  "outputs": {
    "coordConversion": "none",
    "rgbToHsv": false
  }
}
