{
  "version": 1,
  "display": {
    "autoRotate": true,
    "showAxes": false,
    "showSurface": true,
    "showWireframe": false,
    "dirIntensity": 0.8,
    "shininess": 60,
    "camera": {
      "position": {
        "x": 2.6061530215505133,
        "y": -26.706901577064528,
        "z": 3.3566421822176444
      },
      "target": {
        "x": 0,
        "y": 0,
        "z": 0
      }
    }
  },
  "parameters": {
    "uMin": 0,
    "uMax": 6.283,
    "vMin": 0,
    "vMax": 3.14159,
    "uSegs": 200,
    "vSegs": 150
  },
  "extraParameters": [
    {
      "name": "t",
      "value": 0,
      "min": 0,
      "max": 100,
      "step": 0.01,
      "runtime": 100
    },
    {
      "name": "baseRadius",
      "value": 3,
      "min": 1,
      "max": 6,
      "step": 0.1,
      "runtime": 8
    },
    {
      "name": "waveAmp",
      "value": 0.8,
      "min": 0,
      "max": 2,
      "step": 0.01,
      "runtime": 8
    },
    {
      "name": "petalCount",
      "value": 5,
      "min": 2,
      "max": 12,
      "step": 1,
      "runtime": 8
    },
    {
      "name": "twistSpeed",
      "value": 0.3,
      "min": -1,
      "max": 1,
      "step": 0.01,
      "runtime": 8
    },
    {
      "name": "colorSpeed",
      "value": 0.5,
      "min": 0,
      "max": 2,
      "step": 0.01,
      "runtime": 8
    },
    {
      "name": "saturation",
      "value": 0.9,
      "min": 0,
      "max": 1,
      "step": 0.01,
      "runtime": 8
    }
  ],
  "surface": {
    "code": "function surface(input) {\n    const u = input.u;\n    const v = input.v;\n    const t = input.t || 0;\n    const baseRadius = input.baseRadius || 3;\n    const waveAmp = input.waveAmp || 0.8;\n    const petalCount = input.petalCount || 5;\n    const twistSpeed = input.twistSpeed || 0.3;\n    const colorSpeed = input.colorSpeed || 0.5;\n    const saturation = input.saturation || 0.9;\n\n    const PI = Math.PI;\n    const twist = t * twistSpeed;\n    \n    const theta = u + twist * Math.sin(v * 2);\n    const phi = v;\n    \n    const petalWave = Math.sin(petalCount * theta + t * 0.2) * 0.5 + 0.5;\n    const ripple = Math.sin(phi * 8 - t * 0.5) * 0.3;\n    const bloom = Math.sin(phi) * (1 + petalWave * waveAmp + ripple * waveAmp * 0.3);\n    \n    const spiralDistort = Math.sin(theta * 3 + phi * 2 - t * 0.3) * 0.15;\n    const r_mod = baseRadius * bloom + spiralDistort;\n    \n    const x = r_mod * Math.sin(phi) * Math.cos(theta);\n    const y = r_mod * Math.sin(phi) * Math.sin(theta);\n    const z = r_mod * Math.cos(phi);\n    \n    const hue1 = (theta / (2 * PI) + t * colorSpeed * 0.1) % 1;\n    const hue2 = (phi / PI + t * colorSpeed * 0.05) % 1;\n    const hue = (hue1 + hue2 + petalWave * 0.3) % 1;\n    \n    const h = hue * 360;\n    const s = saturation * (0.7 + 0.3 * petalWave);\n    const l = 0.4 + 0.25 * petalWave + 0.1 * ripple;\n    \n    const c = (1 - Math.abs(2 * l - 1)) * s;\n    const hPrime = h / 60;\n    const X = c * (1 - Math.abs(hPrime % 2 - 1));\n    const m = l - c / 2;\n    \n    let r = 0, g = 0, b = 0;\n    if (hPrime < 1) { r = c; g = X; b = 0; }\n    else if (hPrime < 2) { r = X; g = c; b = 0; }\n    else if (hPrime < 3) { r = 0; g = c; b = X; }\n    else if (hPrime < 4) { r = 0; g = X; b = c; }\n    else if (hPrime < 5) { r = X; g = 0; b = c; }\n    else { r = c; g = 0; b = X; }\n    \n    r += m; g += m; b += m;\n    \n    const shimmer = 0.1 * Math.sin(theta * 20 + phi * 15 + t);\n    r = Math.min(1, Math.max(0, r + shimmer));\n    g = Math.min(1, Math.max(0, g + shimmer));\n    b = Math.min(1, Math.max(0, b + shimmer));\n    \n    return { x, y, z, r, g, b, a: 1.0 };\n}"
  },
  "outputs": {
    "coordConversion": "none",
    "rgbToHsv": false
  }
}
