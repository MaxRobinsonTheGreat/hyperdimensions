{
  "version": 1,
  "display": {
    "autoRotate": false,
    "showAxes": false,
    "showSurface": true,
    "showWireframe": false,
    "dirIntensity": 0.8,
    "shininess": 150,
    "camera": {
      "position": {
        "x": 2.6061530215505133,
        "y": -26.706901577064528,
        "z": 3.3566421822176444
      },
      "target": {
        "x": 0,
        "y": 0,
        "z": 0
      }
    }
  },
  "parameters": {
    "uMin": 0,
    "uMax": 1,
    "vMin": 0,
    "vMax": 1,
    "uSegs": 180,
    "vSegs": 120
  },
  "extraParameters": [
    { "name": "time", "value": 0, "min": 0, "max": 6.283, "step": 0.01, "runtime": 2.4 },
    { "name": "pulseAmp", "value": 0.35, "min": 0.1, "max": 0.6, "step": 0.01, "runtime": 7.3 },
    { "name": "pulseSpeed", "value": 1, "min": 0.5, "max": 2, "step": 0.1, "runtime": 11.1 },
    { "name": "bellHeight", "value": 0.7, "min": 0.3, "max": 1.2, "step": 0.01, "runtime": 8.7 },
    { "name": "bellWidth", "value": 1.2, "min": 0.6, "max": 1.8, "step": 0.01, "runtime": 9.3 },
    { "name": "ruffles", "value": 24, "min": 8, "max": 40, "step": 1, "runtime": 15 },
    { "name": "ruffleAmp", "value": 0.15, "min": 0, "max": 0.4, "step": 0.01, "runtime": 5.7 },
    { "name": "tentacles", "value": 8, "min": 4, "max": 16, "step": 1, "runtime": 19 },
    { "name": "tentLen", "value": 2.5, "min": 1, "max": 4, "step": 0.1, "runtime": 6.1 },
    { "name": "tentWave", "value": 0.4, "min": 0.1, "max": 0.8, "step": 0.01, "runtime": 4.3 },
    { "name": "tentFreq", "value": 3, "min": 1, "max": 6, "step": 0.5, "runtime": 13.7 },
    { "name": "drift", "value": 0.1, "min": 0, "max": 0.3, "step": 0.01, "runtime": 3.1 },
    { "name": "hue1", "value": 0.55, "min": 0, "max": 1, "step": 0.01, "runtime": 4.7 },
    { "name": "hue2", "value": 0.75, "min": 0, "max": 1, "step": 0.01, "runtime": 5.3 },
    { "name": "glow", "value": 0.6, "min": 0, "max": 1, "step": 0.01, "runtime": 3.7 },
    { "name": "opacity", "value": 0.85, "min": 0.3, "max": 1, "step": 0.01, "runtime": 12.3 }
  ],
  "surface": {
    "code": "function surface(input) {\n    const u = input.u, v = input.v;\n    const t = input.time * input.pulseSpeed;\n    const TAU = Math.PI * 2;\n    const angle = v * TAU;\n    \n    const pulse = Math.sin(t) * input.pulseAmp;\n    const pulsePhase = Math.sin(t - u * 1.5) * input.pulseAmp * 0.5;\n    \n    let x, y, z, r, g, b, a;\n    \n    if (u < 0.55) {\n        // Bell dome\n        const bellU = u / 0.55;\n        const radial = bellU * input.bellWidth * (1 - pulse * 0.3);\n        const contractionWave = 1 - pulse * 0.4 * Math.pow(bellU, 2);\n        \n        const ruffleEdge = Math.pow(bellU, 3);\n        const ruffle = Math.sin(angle * input.ruffles + t * 2) * input.ruffleAmp * ruffleEdge;\n        const ruffle2 = Math.sin(angle * input.ruffles * 2.5 - t) * input.ruffleAmp * 0.3 * ruffleEdge;\n        \n        const domeShape = Math.cos(bellU * Math.PI * 0.5);\n        const thickness = 0.08 * (1 + Math.sin(angle * 6 + bellU * 4) * 0.3);\n        \n        x = (radial + ruffle) * Math.cos(angle) * contractionWave;\n        y = (radial + ruffle) * Math.sin(angle) * contractionWave;\n        z = domeShape * input.bellHeight * (1 + pulse * 0.2) + ruffle2 + input.drift * Math.sin(t * 0.7);\n        \n        const glowPulse = 0.5 + 0.5 * Math.sin(t * 2 + bellU * 3);\n        const hue = input.hue1 + (input.hue2 - input.hue1) * bellU + glowPulse * 0.05;\n        const sat = 0.4 + 0.3 * ruffleEdge;\n        const val = 0.7 + input.glow * glowPulse * 0.3;\n        \n        const h = (hue % 1) * 6, i = Math.floor(h), f = h - i;\n        const p = val * (1 - sat), q = val * (1 - sat * f), tt = val * (1 - sat * (1 - f));\n        switch (i % 6) {\n            case 0: r = val; g = tt; b = p; break;\n            case 1: r = q; g = val; b = p; break;\n            case 2: r = p; g = val; b = tt; break;\n            case 3: r = p; g = q; b = val; break;\n            case 4: r = tt; g = p; b = val; break;\n            case 5: r = val; g = p; b = q; break;\n        }\n        a = input.opacity * (0.6 + 0.4 * domeShape);\n        \n    } else if (u < 0.65) {\n        // Oral arms / frilly center\n        const armU = (u - 0.55) / 0.1;\n        const armAngle = angle + Math.sin(armU * 8 + t) * 0.3;\n        const armRadius = 0.3 * (1 - armU * 0.5) * (1 - pulse * 0.2);\n        const frill = Math.sin(angle * 16 + armU * 12 - t * 3) * 0.1 * (1 - armU);\n        \n        x = (armRadius + frill) * Math.cos(armAngle);\n        y = (armRadius + frill) * Math.sin(armAngle);\n        z = -armU * 0.5 + input.drift * Math.sin(t * 0.7 + 0.5);\n        \n        const hue = input.hue2 + 0.1;\n        const sat = 0.5, val = 0.8 + input.glow * 0.2 * Math.sin(t * 3 + armU * 5);\n        const h = (hue % 1) * 6, i = Math.floor(h), f = h - i;\n        const p = val * (1 - sat), q = val * (1 - sat * f), tt = val * (1 - sat * (1 - f));\n        switch (i % 6) {\n            case 0: r = val; g = tt; b = p; break;\n            case 1: r = q; g = val; b = p; break;\n            case 2: r = p; g = val; b = tt; break;\n            case 3: r = p; g = q; b = val; break;\n            case 4: r = tt; g = p; b = val; break;\n            case 5: r = val; g = p; b = q; break;\n        }\n        a = input.opacity * 0.7;\n        \n    } else {\n        // Tentacles\n        const tentU = (u - 0.65) / 0.35;\n        const tentIndex = Math.floor(v * input.tentacles);\n        const tentV = (v * input.tentacles) % 1;\n        const tentAngle = (tentIndex + 0.5) / input.tentacles * TAU;\n        \n        const baseRadius = 0.35 * (1 - pulse * 0.15);\n        const spreadFactor = 1 + tentU * 0.8;\n        const waveDelay = tentU * 2 + tentIndex * 0.7;\n        \n        const sway1 = Math.sin(t * 1.3 - waveDelay) * input.tentWave * tentU;\n        const sway2 = Math.sin(t * 0.9 - waveDelay * 1.3 + 1) * input.tentWave * 0.6 * tentU;\n        const ripple = Math.sin(tentU * input.tentFreq * TAU - t * 2) * 0.15 * tentU;\n        \n        const thickness = 0.04 * (1 - tentU * 0.7) * (0.5 + 0.5 * Math.cos(tentV * TAU));\n        const tentRadius = baseRadius * spreadFactor + thickness;\n        \n        x = tentRadius * Math.cos(tentAngle + sway1) + sway2 * 0.5;\n        y = tentRadius * Math.sin(tentAngle + sway1) + ripple;\n        z = -tentU * input.tentLen + input.drift * Math.sin(t * 0.7 + tentU);\n        \n        const glowWave = 0.5 + 0.5 * Math.sin(t * 2.5 - tentU * 4 + tentIndex);\n        const hue = input.hue1 + (input.hue2 - input.hue1) * (0.5 + glowWave * 0.3);\n        const sat = 0.35 + 0.2 * glowWave;\n        const val = 0.5 + input.glow * glowWave * 0.5;\n        \n        const h = (hue % 1) * 6, i = Math.floor(h), f = h - i;\n        const p = val * (1 - sat), q = val * (1 - sat * f), tt = val * (1 - sat * (1 - f));\n        switch (i % 6) {\n            case 0: r = val; g = tt; b = p; break;\n            case 1: r = q; g = val; b = p; break;\n            case 2: r = p; g = val; b = tt; break;\n            case 3: r = p; g = q; b = val; break;\n            case 4: r = tt; g = p; b = val; break;\n            case 5: r = val; g = p; b = q; break;\n        }\n        a = input.opacity * (0.4 + 0.4 * (1 - tentU));\n    }\n    \n    return { x, y, z, r, g, b, a };\n}"
  },
  "outputs": {
    "coordConversion": "none",
    "rgbToHsv": false
  }
}
